<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Study Buddy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="/static/style.css" />
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon" />
</head>

<body>

  <!-- DARK MODE TOGGLE -->
  <button
    id="themeToggle"
    class="theme-toggle"
    type="button"
    title="Toggle theme"
    aria-label="Toggle dark mode"
  >
    ğŸŒ™
  </button>

  <!-- DOWNLOAD PDF BUTTON -->
  <button
    id="downloadPdfBtn"
    class="download-pdf-btn"
    type="button"
    title="Download as PDF"
  >
    â¬‡ï¸ PDF
  </button>

  <div class="layout">

    <!-- LEFT PANEL -->
    <aside class="left-panel">

      <!-- BRANDING -->
      <div class="left-brand">
        <div class="logo-icon-wrapper">
          <span class="logo-icon">ğŸ“š</span>
        </div>
        <div class="logo-text-wrapper">
          <span class="logo-text">STUDY<br>BUDDY</span>
          <span class="logo-subtitle">AI LEARNING COMPANION</span>
        </div>
      </div>

      <!-- INPUT CARD -->
      <div class="input-card">

        <h3>Enter your syllabus</h3>

        <!-- TEXT INPUT -->
        <div class="input-section text-section">
          <textarea
            id="syllabusText"
            placeholder="Paste your syllabus text hereâ€¦"
            aria-label="Syllabus text input"
          ></textarea>

          <button
            class="send-btn text-send"
            type="button"
            onclick="analyzeTextOnly()"
            title="Analyze text syllabus"
          >
            â¤
          </button>
        </div>

        <!-- FILE INPUT -->
        <div class="input-section file-section">
          <label for="fileInput" class="attach-btn" title="Attach file">ğŸ“</label>
          <input
            type="file"
            id="fileInput"
            accept=".pdf,image/*"
            hidden
          />

          <span id="attachHint" class="attach-hint">
            Attach image / PDF
          </span>

          <div id="filePreview" class="file-preview hidden">
            <span id="fileIcon">ğŸ“„</span>
            <span id="fileName">filename.pdf</span>
            <button type="button" onclick="removeFile()">âœ•</button>
          </div>

          <button
            class="send-btn file-send"
            type="button"
            onclick="analyzeFileOnly()"
            title="Analyze file syllabus"
          >
            â¤
          </button>
        </div>

        <!-- YOUTUBE TOGGLE -->
        <div class="yt-toggle center-bottom">
          <input type="checkbox" id="ytToggle" checked />
          <label for="ytToggle">Add related YT playlists</label>
        </div>

      </div>
      <!-- input-card ends -->

      <!-- AI CREDIT -->
      <div class="ai-credit">
        powered by <span>OpenRouter</span> Â· <span>OpenAI (gpt-4o-mini)</span>
      </div>

    </aside>
    <!-- left-panel ends -->

    <!-- RIGHT RESULTS PANEL -->
    <main
      id="result"
      class="right-panel"
      aria-live="polite"
    ></main>

  </div>
  <!-- layout ends -->

  <!-- USAGE WARNING -->
  <div class="usage-warning global-warning">
    please copy text or download pdf before reloading / leaving the site
  </div>

  <!-- LIBS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="/static/script.js"></script>

</body>
</html>